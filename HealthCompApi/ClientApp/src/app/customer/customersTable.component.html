<h3 class="text-center">Customer Management</h3>
<table *ngIf="tableMode; else create" class="table table-sm table-striped">
  <tbody>
    <tr><th>ID</th><th>Name</th><th>Discription</th><th></th></tr>
    <tr *ngFor="let cust of customers">
      <ng-template [ngIf]="customer?.id != cust.id"
                   [ngIfElse]="edit">
        <td>{{cust.id}}</td>
        <td>{{cust.name}}</td>
        <td>{{cust.description}}</td>
        <td>
          <button class="btn btn-sm btn-primary"
                  (click)="selectCustomer(cust.id)">
            Edit
          </button>
          <button class="btn btn-sm btn-danger ml-1"
                  (click)="deleteCustomer(cust.id)">
            Delete
          </button>
        </td>
      </ng-template>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <td colspan="3" class="text-center">
        <button class="btn btn-primary"
                (click)="clearCustomer(); tableMode = false">
          Create
        </button>
      </td>
    </tr>
  </tfoot>
</table>
<ng-template #edit>
  <td colspan="3" class="bg-light border p-3">
    <admin-customer-editor></admin-customer-editor>
    <div class="text-center">
      <button class="btn btn-sm btn-primary" (click)="saveCustomer()">
        Update
      </button>
      <button class="btn btn-sm btn-info ml-1" (click)="clearCustomer()">
        Cancel
      </button>
    </div>
  </td>
</ng-template>
<ng-template #create>
  <div class="m-2">
    <admin-customer-editor></admin-customer-editor>
    <button class="btn btn-primary" (click)="saveCustomer()">
      Save
    </button>
    <button class="btn btn-info ml-1" (click)="clearCustomer()">
      Cancel
    </button>
  </div>
</ng-template>
